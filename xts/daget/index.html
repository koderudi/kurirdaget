<!DOCTYPE html><html><head><meta charset="utf-8"><title>Daget Mini App</title><script src="https://telegram.org/js/telegram-web-app.js"></script><style> body { font-family: sans-serif; padding: 20px; text-align: center; background: var(--tg-theme-bg-color, #fff); color: var(--tg-theme-text-color, #000); } .log { margin-top: 20px; padding: 10px; background: #f0f0f0; border-radius: 5px; text-align: left; font-size: 12px; max-height: 200px; overflow-y: auto; } </style></head><body><h3>Daget Mini App</h3><p>Memproses kode...</p><div class="log" id="log"></div><script> function addLog(message) { console.log(message); const logDiv = document.getElementById('log'); logDiv.innerHTML += `<div>${new Date().toLocaleTimeString()}: ${message}</div>`; } const tg = window.Telegram.WebApp; addLog('Telegram WebApp initialized'); tg.expand(); addLog('WebApp expanded'); const path = window.location.pathname; addLog(`Pathname: ${path}`); const segments = path.split('/'); const customCode = segments[segments.length - 1]; addLog(`Custom code dari path: ${customCode}`); if (!customCode || !customCode.startsWith('DGT')) { addLog('Kode tidak valid (harus diawali DGT), menutup Mini App'); tg.close(); } else { addLog('Kode valid, mengirim ke bot...'); tg.sendData(customCode); addLog(`Data "${customCode}" telah dikirim via tg.sendData()`); tg.showPopup({ title: 'Berhasil', message: `Kode ${customCode} terkirim!`, buttons: [{ type: 'ok' }] }, () => { addLog('Popup ditutup, menutup Mini App'); tg.close(); }); } </script></body></html>
