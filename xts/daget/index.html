<!DOCTYPE html><html><head><meta charset="utf-8"><title>Daget Mini App - Debug</title><script src="https://telegram.org/js/telegram-web-app.js"></script><style> body { font-family: sans-serif; padding: 20px; background: var(--tg-theme-bg-color, #fff); color: var(--tg-theme-text-color, #000); } .info { background: var(--tg-theme-secondary-bg-color, #f0f0f0); padding: 15px; border-radius: 8px; margin: 20px 0; word-break: break-all; } button { background: var(--tg-theme-button-color, #40a7e3); color: var(--tg-theme-button-text-color, #fff); border: none; padding: 15px 20px; border-radius: 8px; font-size: 18px; width: 100%; cursor: pointer; margin-top: 10px; } .log { margin-top: 20px; background: #1e1e1e; color: #00ff00; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 12px; max-height: 250px; overflow-y: auto; } </style></head><body><h3>üêû Debug Mode: Kirim Manual</h3><div class="info"><strong>üìå Kode dari URL:</strong><span id="codeDisplay" style="font-weight:bold;">(mengambil...)</span></div><button id="sendBtn">üì§ Kirim Kode ke Bot</button><div class="log" id="log"></div><script> const tg = window.Telegram.WebApp; tg.expand(); const logDiv = document.getElementById('log'); const codeDisplay = document.getElementById('codeDisplay'); const sendBtn = document.getElementById('sendBtn'); function addLog(message) { console.log(message); logDiv.innerHTML += `<div>${new Date().toLocaleTimeString()}: ${message}</div>`; } const path = window.location.pathname; addLog(`üìç Pathname: ${path}`); const segments = path.split('/'); let customCode = segments[segments.length - 1]; if (!customCode || customCode === 'daget' || customCode === '') { customCode = 'üö´ TIDAK ADA KODE VALID'; } codeDisplay.textContent = customCode; addLog(`üîë Kode yang diekstrak: "${customCode}"`); sendBtn.addEventListener('click', () => { if (customCode.startsWith('üö´')) { addLog('‚ö†Ô∏è Tidak ada kode valid untuk dikirim'); tg.showPopup({ title: 'Gagal', message: 'Tidak ada kode valid di URL.', buttons: [{ type: 'ok' }] }); return; } addLog(`üì§ Mengirim kode: "${customCode}" ke bot...`); try { tg.sendData(customCode); addLog('‚úÖ tg.sendData() berhasil dipanggil'); tg.showPopup({ title: 'Berhasil', message: `Kode "${customCode}" telah dikirim!`, buttons: [{ type: 'ok' }] }, () => { addLog('ü™ü Popup ditutup'); }); } catch (error) { addLog(`‚ùå Error saat mengirim: ${error.message}`); tg.showPopup({ title: 'Error', message: error.message, buttons: [{ type: 'ok' }] }); } }); addLog('‚úÖ Mini App siap. Tekan tombol untuk mengirim kode.'); </script></body></html>

