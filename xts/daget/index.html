<!DOCTYPE html><html><head><meta charset="utf-8"><title>Daget Mini App - Final</title><script src="https://telegram.org/js/telegram-web-app.js"></script><style> body { font-family: sans-serif; padding: 20px; background: var(--tg-theme-bg-color, #fff); color: var(--tg-theme-text-color, #000); } .info { background: var(--tg-theme-secondary-bg-color, #f0f0f0); padding: 15px; border-radius: 8px; margin: 20px 0; word-break: break-all; } button { background: var(--tg-theme-button-color, #40a7e3); color: var(--tg-theme-button-text-color, #fff); border: none; padding: 15px 20px; border-radius: 8px; font-size: 18px; width: 100%; cursor: pointer; margin-top: 10px; } .log { margin-top: 20px; background: #1e1e1e; color: #00ff00; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 12px; max-height: 300px; overflow-y: auto; } </style></head><body><h3>üêû Daget Mini App</h3><div class="info"><strong>üìå Kode dari URL:</strong><span id="codeDisplay" style="font-weight:bold;">(mengambil...)</span></div><button id="sendBtn" style="display:none;">üì§ Kirim Kode ke Bot</button><div class="log" id="log"></div><script> (function() { const tg = window.Telegram?.WebApp; const logDiv = document.getElementById('log'); const codeDisplay = document.getElementById('codeDisplay'); const sendBtn = document.getElementById('sendBtn'); function addLog(msg) { console.log(msg); logDiv.innerHTML += `<div>${new Date().toLocaleTimeString()}: ${msg}</div>`; } try { if (!tg) throw new Error('Bukan lingkungan Telegram'); tg.expand(); addLog('‚úÖ Telegram WebApp siap'); addLog(`üìç URL: ${window.location.href}`); addLog(`üìç Pathname: ${window.location.pathname}`); addLog(`üìç Search: ${window.location.search}`); addLog(`üìç Hash: ${window.location.hash}`); let customCode = null; const searchParams = new URLSearchParams(window.location.search); if (searchParams.has('tgWebAppStartParam')) { customCode = searchParams.get('tgWebAppStartParam'); addLog(`üîë Ditemukan di query string: ${customCode}`); } else { const hash = window.location.hash.slice(1); if (hash) { const hashParams = new URLSearchParams(hash); if (hashParams.has('tgWebAppStartParam')) { customCode = hashParams.get('tgWebAppStartParam'); addLog(`üîë Ditemukan di hash: ${customCode}`); } else { addLog('‚ÑπÔ∏è tgWebAppStartParam tidak ditemukan di query atau hash'); } } else { addLog('‚ÑπÔ∏è Hash kosong'); } } if (customCode) { codeDisplay.textContent = customCode; sendBtn.style.display = 'block'; } else { codeDisplay.textContent = 'üö´ TIDAK ADA KODE'; } sendBtn.addEventListener('click', () => { if (!customCode) { tg.showPopup({ title: 'Gagal', message: 'Tidak ada kode' }); return; } addLog(`üì§ Mengirim: ${customCode}`); tg.sendData(customCode); tg.showPopup({ title: 'Sukses', message: 'Kode terkirim!' }, () => { tg.close(); }); }); } catch (e) { addLog(`‚ùå Error: ${e.message}`); if (tg) tg.showPopup({ title: 'Error', message: e.message }); } })(); </script></body></html>

